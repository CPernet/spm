#!/usr/bin/env bash
#
# Command Line Interface for SPM
# SPM: https://www.fil.ion.ucl.ac.uk/spm/
#
# Guillaume Flandin
# Copyright (C) 2023 Wellcome Centre for Human Neuroimaging


# Environment variables that can be used by this script:
# MATLAB_EXEC - name (and path) of the MATLAB executable
# MCR_HOME    - directory containing the MATLAB Runtime
# SPM_HOME    - directory containing (standalone) SPM
# OCTAVE_EXEC - name (and path) of the Octave executable


if [[ ${MATLAB_EXEC} ]]; then
  source ${BASH_SOURCE%/*}/spm-matlab $@
  exit 0
fi

if [[ ${MCR_HOME} ]]; then
  source ${BASH_SOURCE%/*}/spm-mcr $@
  exit 0
fi

if [ "$(command -v matlab)" != "" ]; then
  source ${BASH_SOURCE%/*}/spm-matlab $@
  exit 0
fi

if [ "$(command -v octave)" != "" ]; then
  ${BASH_SOURCE%/*}/spm-octave $@
  exit 0
fi
